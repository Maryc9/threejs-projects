import{D as q,H as I,f as H,g as T,L as V,h as k,S as X,P as O,W as Z,s as J,i as K,E as Q,M as R,a as u,d as y,j as ee,F as ne}from"./FlyControls.4bd54d1c.js";class re extends q{constructor(h){super(h),this.type=I}parse(h){const p=function(e,o){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(o||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(o||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(o||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(o||""))}return-1},z=`
`,v=function(e,o,i){o=o||1024;let l=e.pos,t=-1,n=0,s="",r=String.fromCharCode.apply(null,new Uint16Array(e.subarray(l,l+128)));for(;0>(t=r.indexOf(z))&&n<o&&l<e.byteLength;)s+=r,n+=r.length,l+=128,r+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(l,l+128)));return-1<t?(i!==!1&&(e.pos+=n+t+1),s+r.slice(0,t)):!1},C=function(e){const o=/^#\?(\S+)/,i=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,l=/^\s*FORMAT=(\S+)\s*$/,t=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,n={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let s,r;if(e.pos>=e.byteLength||!(s=v(e)))return p(1,"no header found");if(!(r=s.match(o)))return p(3,"bad initial token");for(n.valid|=1,n.programtype=r[1],n.string+=s+`
`;s=v(e),s!==!1;){if(n.string+=s+`
`,s.charAt(0)==="#"){n.comments+=s+`
`;continue}if((r=s.match(i))&&(n.gamma=parseFloat(r[1])),(r=s.match(a))&&(n.exposure=parseFloat(r[1])),(r=s.match(l))&&(n.valid|=2,n.format=r[1]),(r=s.match(t))&&(n.valid|=4,n.height=parseInt(r[1],10),n.width=parseInt(r[2],10)),n.valid&2&&n.valid&4)break}return n.valid&2?n.valid&4?n:p(3,"missing image size specifier"):p(3,"missing format specifier")},W=function(e,o,i){const a=o;if(a<8||a>32767||e[0]!==2||e[1]!==2||e[2]&128)return new Uint8Array(e);if(a!==(e[2]<<8|e[3]))return p(3,"wrong scanline width");const l=new Uint8Array(4*o*i);if(!l.length)return p(4,"unable to allocate buffer space");let t=0,n=0;const s=4*a,r=new Uint8Array(4),d=new Uint8Array(s);let x=i;for(;x>0&&n<e.byteLength;){if(n+4>e.byteLength)return p(1);if(r[0]=e[n++],r[1]=e[n++],r[2]=e[n++],r[3]=e[n++],r[0]!=2||r[1]!=2||(r[2]<<8|r[3])!=a)return p(3,"bad rgbe scanline format");let L=0,g;for(;L<s&&n<e.byteLength;){g=e[n++];const _=g>128;if(_&&(g-=128),g===0||L+g>s)return p(3,"bad scanline data");if(_){const E=e[n++];for(let N=0;N<g;N++)d[L++]=E}else d.set(e.subarray(n,n+g),L),L+=g,n+=g}const j=a;for(let _=0;_<j;_++){let E=0;l[t]=d[_+E],E+=a,l[t+1]=d[_+E],E+=a,l[t+2]=d[_+E],E+=a,l[t+3]=d[_+E],t+=4}x--}return l},Y=function(e,o,i,a){const l=e[o+3],t=Math.pow(2,l-128)/255;i[a+0]=e[o+0]*t,i[a+1]=e[o+1]*t,i[a+2]=e[o+2]*t,i[a+3]=1},$=function(e,o,i,a){const l=e[o+3],t=Math.pow(2,l-128)/255;i[a+0]=T.toHalfFloat(Math.min(e[o+0]*t,65504)),i[a+1]=T.toHalfFloat(Math.min(e[o+1]*t,65504)),i[a+2]=T.toHalfFloat(Math.min(e[o+2]*t,65504)),i[a+3]=T.toHalfFloat(1)},A=new Uint8Array(h);A.pos=0;const F=C(A);if(F!==-1){const e=F.width,o=F.height,i=W(A.subarray(A.pos),e,o);if(i!==-1){let a,l,t,n;switch(this.type){case H:n=i.length/4;const s=new Float32Array(n*4);for(let d=0;d<n;d++)Y(i,d*4,s,d*4);a=s,t=H;break;case I:n=i.length/4;const r=new Uint16Array(n*4);for(let d=0;d<n;d++)$(i,d*4,r,d*4);a=r,t=I;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:e,height:o,data:a,header:F.string,gamma:F.gamma,exposure:F.exposure,format:l,type:t}}}return null}setDataType(h){return this.type=h,this}load(h,w,f,G){function B(c,p){switch(c.type){case H:c.encoding=V,c.minFilter=k,c.magFilter=k,c.generateMipmaps=!1,c.flipY=!0;break;case I:c.encoding=V,c.minFilter=k,c.magFilter=k,c.generateMipmaps=!1,c.flipY=!0;break}w&&w(c,p)}return super.load(h,B,f,G)}}var oe="./assets/winter.47f75b79.hdr";const m=new X,D=new O(75,innerWidth/innerHeight,.1,1e3),b=new Z({canvas:document.querySelector("#bg4")});b.setPixelRatio(window.devicePixelRatio);b.setSize(window.innerWidth,window.innerHeight);D.position.setZ(25);b.render(m,D);b.outputEncoding=J;b.toneMapping=K;const ae=new re;ae.load(oe,function(S){S.mapping=Q,m.background=S,m.environment=S;const h=new R(new u(20,50,50),new y({color:13983122,roughness:0,metalness:1}));h.position.z=-100,h.position.y=30,h.position.x=-2,m.add(h);const w=new R(new u(20,50,50),new y({color:2949367,roughness:0,metalness:1}));w.position.z=-100,w.position.y=30,w.position.x=1,m.add(w);const f=new R(new u(5,50,50),new y({color:12348453,roughness:0,metalness:1}));f.position.x=1,f.position.y=30,m.add(f);const G=new R(new ee(10,2,15),new y({roughness:0,metalness:.8}));G.position.x=1,G.position.y=31,m.add(G);const B=new R(new u(6,50,50),new y({color:3448996,roughness:0,metalness:.5}));B.position.y=-8,B.position.x=10,m.add(B);const c=new R(new u(6,50,50),new y({color:10461439,roughness:0,metalness:.5}));c.position.x=17,c.position.y=-20,m.add(c);const p=new R(new u(6,50,50),new y({color:16741775,roughness:0,metalness:.5}));p.position.x=6,p.position.y=-20,m.add(p);const U=new R(new u(1,50,50),new y({color:9678005,roughness:0,metalness:2}));U.position.z=30,m.add(U)});const M=new ne(D,b.domElement);M.movementSpeed=1;M.rollSpeed=.05;M.autoForward=!1;M.dragToLook=!1;function P(){requestAnimationFrame(P),b.render(m,D),M.update(.05)}P();
